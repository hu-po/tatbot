# dnsmasq configuration for tatbot local network

# Listen on port 53
port=53

# Specify interface to listen on (adjust if rpi2 uses a different interface)
# Use 'ip a' on rpi2 to confirm the main interface name (e.g., eth0, wlan0)
interface=eth0
bind-interfaces # Bind only to the specified interface

# Domain settings (optional, but recommended for local networks)
domain-needed   # Don't forward queries for plain names (without dots)
bogus-priv      # Don't forward queries for non-routed address spaces
expand-hosts    # Add the domain to simple names in the hosts file
domain=tatbot.local # Define a local domain suffix
local=/tatbot.local/ # Define which domain(s) are local and served from /etc/hosts or --addn-hosts

# Use custom hosts file instead of /etc/hosts
no-hosts
addn-hosts=/etc/dnsmasq_hosts/hosts.conf

# Disable upstream DNS servers (for isolated network)
no-resolv

# Logging (optional but recommended for debugging)
log-queries           # Log DNS queries
log-facility=/var/log/dnsmasq.log # Log to a specific file
log-async             # Reduce latency by logging asynchronously

# Cache settings (optional)
cache-size=1000       # Increase DNS cache size

# Other settings
strict-order         # Query upstream servers (if any were defined) in order